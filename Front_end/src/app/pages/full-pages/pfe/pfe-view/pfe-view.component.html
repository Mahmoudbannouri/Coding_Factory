<section class="pfe-view">
  <!-- Media object starts -->
  <div class="row">
    <div class="col-12 col-sm-7">
      <div class="media d-flex align-items-center">
        <a href="javascript:;">
          <img src="assets/img/portrait/small/avatar-s-2.png" alt="pfe view avatar"
            class="users-avatar-shadow rounded" height="64" width="64">
        </a>
        <div class="media-body ml-3">
          <h4>
            <span class="pfe-view-name mr-1">{{pfe.projectTitle}}</span>
            <span class="text-muted font-medium-1">
              
              <span class="pfe-view-username">{{pfe.category}}</span>
            </span>
          </h4>
          <span class="mr-1">ID:</span>
          <span class="pfe-view-id">{{pfe.id}}</span>
        </div>
      </div>
    </div>
    <div class="col-12 col-sm-5 d-flex justify-content-end align-items-center">
      <a href="javaScript:void(0);" class="btn btn-sm bg-light-secondary mr-2 px-3 py-1"><i class="ft-mail"></i></a>
      <a href="javaScript:void(0);" class="btn btn-sm bg-light-secondary mr-2 px-3 py-1">Profile</a>
      <a [routerLink]="['/pages/pfe-edit']" class="btn btn-sm btn-primary px-3 py-1">Edit</a>
    </div>
  </div>
  <!-- Media object ends -->

  <div class="row">
    <div class="col-12">
      <!-- Card data starts -->
      <div class="card">
        <div class="card-content">
          <div class="card-body">
            <div class="row">
              <div class="col-12 col-xl-4">
                <table class="table table-borderless">
                  <tbody>
                    <tr>
                      <td>Start Date:</td>
                      <td>{{pfe.startDate}}</td>
                    </tr>
                    <tr>
                      <td>End Date:</td>
                      <td class="pfe-view-latest-activity">{{pfe.endDate}}</td>
                    </tr>
                    <tr>
                      <td>Level:</td>
                      <td class="pfe-view-verified">{{pfe.level}}</td>
                    </tr>
                    <tr>
                      <td>Category:</td>
                      <td class="pfe-view-role">{{pfe.category}}</td>
                    </tr>
                    <tr>
                      <td>Status:</td>
                      <td><span class="badge bg-light-success pfe-view-status">{{pfe.status}}</span></td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="col-12 col-xl-8 pfe-module">
                <div class="table-responsive">
                  <table class="table mb-0">
                    <thead>
                      <tr>
                        <th>Participants</th>
                        <th>ID</th>
                        <th>Role</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>Student</td>
                        <td>{{pfe.studentId}}</td>
                        <td>Author</td>
                      </tr>
                      <tr>
                        <td>Trainer</td>
                        <td>{{pfe.trainerId}}</td>
                        <td>Supervisor</td>
                      </tr>
                      <tr>
                        <td>Company</td>
                        <td>{{pfe.partnerId}}</td>
                        <td>Partner</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Card data ends -->
    </div>
    <div class="col-12">
      <!-- pfe detail starts -->
      <div class="card">
        <div class="card-content">
          <div class="card-body">
            <div class="row bg-primary bg-lighten-4 rounded mb-3 mx-1 text-center text-lg-left">
              <div class="col-12 col-sm-4 p-3 d-flex align-itms-center">
                <h6 class="primary align-self-center mb-0 mx-1">Documents:</h6>
                <span class="font-large-1 primary">{{pfe.documents?.length || 0}}</span>
              </div>
              <div class="col-12 col-sm-4 p-3 d-flex align-itms-center">
                <h6 class="primary align-self-center mb-0 mx-1">Meetings:</h6>
                <span class="font-large-1 primary">{{pfe.meetingDates?.length || 0}}</span>
              </div>
              
              <div class="col-12 col-sm-4 p-3 d-flex align-itms-center">
                <h6 class="primary align-self-center mb-0 mx-1">Jury Members:</h6>
                <span class="font-large-1 primary">{{pfe.juryNames?.length || 0}}</span>
              </div>
            </div>
          </div>
            <div class="col-12">
              <div class="table-responsive">
                <table class="table table-borderless">
                  <tbody>
                    <tr>
                      <td>Project Title:</td>
                      <td class="pfe-view-username">{{pfe.projectTitle}}</td>
                    </tr>
                    <tr>
                      <td>Description:</td>
                      <td class="pfe-view-name">{{pfe.description}}</td>
                    </tr>
                    <tr>
                      <td>Meeting Link:</td>
                      <td><a href="{{pfe.meetingLink}}" target="_blank">{{pfe.meetingLink}}</a></td>
                    </tr>
                    <tr>
                      <td>Meeting Notes:</td>
                      <td>{{pfe.meetingNotes}}</td>
                    </tr>
                  </tbody>
                </table>
              </div>


             <!-- Documents Section -->
<h5 class="mb-2 text-bold-500"><i class="ft-link mr-2"></i>Documents</h5>
<div class="table-responsive">
  <table class="table table-borderless">
    <thead>
      <tr>
        <th>Document Name</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let doc of pfe.documents; let i = index">
        <td>
  <a href="{{doc}}" target="_blank">
    {{ extractFilename(doc).length > 30 ? (extractFilename(doc) | slice:0:30) + '...' : extractFilename(doc) }}
  </a>
</td>
        <td>
          <button class="btn btn-sm btn-outline-primary mr-1" (click)="downloadDocument(doc)">
            <i class="ft-download"></i>
          </button>
          <button class="btn btn-sm btn-outline-danger" (click)="removeDocument(doc)">
            <i class="ft-trash-2"></i>
          </button>
        </td>
      </tr>
      <tr *ngIf="!pfe.documents || pfe.documents.length === 0">
        <td colspan="2" class="text-center text-muted">No documents added yet</td>
      </tr>
    </tbody>
  </table>
</div>

              <!-- Meetings Section -->
              <h5 class="mb-2 text-bold-500"><i class="ft-calendar mr-2"></i>Meetings</h5>
              <div class="table-responsive">
                <table class="table table-borderless">
                  <thead>
                    <tr>
                      <th>Date</th>
                      <th>Notes</th>
                      <th>Link</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let meetingDate of pfe.meetingDates; let i = index">
                      <td>{{meetingDate | date:'dd/MM/yyyy HH:mm'}}</td>
                      <td>{{pfe.meetingNotes}}</td>
                      <td><a href="{{pfe.meetingLink}}" target="_blank">Join Meeting</a></td>
                      <td>
                        <button class="btn btn-sm btn-outline-danger" (click)="removeMeetingDate(meetingDate)">
                          <i class="ft-trash-2"></i>
                        </button>
                      </td>
                    </tr>
                    <tr *ngIf="!pfe.meetingDates || pfe.meetingDates.length === 0">
                      <td colspan="4" class="text-center text-muted">No meetings scheduled yet</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <h5 class="mb-2 text-bold-500"><i class="ft-info mr-2"></i> Jury Members </h5>
              <div class="table-responsive">
                <table class="table table-borderless m-0">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let jury of pfe.juryNames">
                      <td>{{jury}}</td>
                      <td>
                        <button class="btn btn-sm btn-outline-danger" (click)="removeJuryMember(jury)">
                          <i class="ft-trash-2"></i>
                        </button>
                      </td>
                    </tr>
                    <tr *ngIf="!pfe.juryNames || pfe.juryNames.length === 0">
                      <td colspan="2" class="text-center text-muted">No jury members added yet</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            </div>
          </div>
        </div>
      </div>

      <!-- pfe detail ends -->
    
  
</section>